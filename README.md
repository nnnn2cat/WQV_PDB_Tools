# WQV_PDB_Tools
 Extracts image data from .pdb files generated by WQV Link for Palm OS

 #  WQV PDB Tools 0.1
        By NNNN 
(nana.must.die@gmail.com)


#   TABLE OF CONTENTS

1.1: About
1.2: Version History

2.1: Usage wqv_monochrome (WQV-1, WQV-2)
2.2: Usage wqv_color (WQV-3, WQV-10)

3.1: Links

4.1: License (This software)
4.2: License (par)
4.3: License (JPEG the Ripper)

# 1. ABOUT


WQV PDB Tools is a program to help extract
images from Palm OS Database files (.pdb)
generated by the WQV Link and WQV Color Link
Palm OS applications.

For WQV-1 and WQV-2 (monochrome), a single large
database is output to your computer during Hotsync.
This app will dissect that database, and output
all image data found within. File names and date
stamps are not retained.

For WQV-3 and WQV-10 (color), every image will be
exported as its own .pdb file during Hotsync. If you
attempt to open the image as a jpeg with a program
such as Irfanview, you will be able to view the image
but the latter half of the data will be corrupt. Many
programs will not open the file at all. This app will
iterate through each image, extract only the jpeg data,
and then manually clean up extraneous data that causes
jpeg corruption. File names and date stamps are not retained.

Note: I have noticed some Palm OS Devices are less willing
to communicate with the Casio camera watches than others.
In my personal experience, the PEG-NX70v (OS 5.0) did not work 
at all, whereas the PEG-SJ33 (OS 4.1) worked perfectly. 
Other reports on the internet indicate that using early 
Palm Pilots on Palm OS 3.3 also worked fine. If your model
is not communicating correctly with the watch, using a device
with an earlier OS version may help.

# 1.2 VERSION HISTORY
2024.10.17: Version 0.1 Initial release.

# 2.1 USAGE wqv_monochrome (WQV-1, WQV-2)

1. Extract this archive somewhere. 

2. Install Python if you don't have it already.
   This program was tested with Python 3.11, but 
   later versions should also work fine.

3. Transfer images from your watch to your PDA
   using WQV Link for Palm OS Handhelds Ver. 1.1.

4. Hotsync your PDA to your computer. 
   This should generate a backup of your WQV Link data.

5. Navigate to your WQV Link Backup data in your Hotsync folder.
   In my case, this is:
   Documents/Palm OS Desktop/[username]/Backup/WQVLinkDB.PDB

6. Copy WQVLinkDB.PDB to the 'pdb' folder of this tool.

7. Run convert.bat.

8. If everything succeeded, you should now have extracted bitmaps
   in the 'out' folder. Note that these will be overwritten upon further
   executions of the program, so please copy them somewhere for safekeeping.

9. Enjoy your new photos.


# 2.2 USAGE wqv_color (WQV-3, WQV-10)

1. Extract this archive somewhere. 

2. Install Python if you don't have it already.
   This program was tested with Python 3.11, but 
   later versions should also work fine.

3. Transfer images from your watch to your PDA using 
   CASIO WQV Color for Palm OS(R) Handhelds Version 2.2.

4. Inside CASIO WQV Color for Palm, enable backing up of
   image data during Hotsync via Options > Preferences.
   This should be enabled by default.

5. Hotsync your PDA to your computer. This should 
   generate a backup of your WQV Color data.

6. Navigate to your WQV Color Backup data in your Hotsync folder.
   There should be several individual PDB files named something like:
   CASIJPG00E6F00A.PDB
   CASIJPG00E6F01C.PDB
   CASIJPG00E6F01F.PDB
   etc.

7. Copy all CASIJPG[...].PDB files to the 'pdb' folder of this tool.

8. Run convert.bat.

9. If everything succeeded, you should now have extracted jpegs
   in the 'out' folder. Note that these will be overwritten upon further
   executions of the program, so please copy them somewhere for safekeeping.

9. Enjoy your new photos.


# 3. LINKS

Casio WQV Link Software:
WQV Link for Palm OS Handhelds Ver. 1.1
https://web.archive.org/web/20080430210835/http://world.casio.com/wat/download/en/

CASIO WQV Color for Palm OS(R) Handhelds Version 2.2
https://web.archive.org/web/20080421035139/http://world.casio.com/wat/download/en/wqv/3/dl_palm_link.html

Software used in this application:
par (Palm Database Archiver) version 0.5
https://www.djw.org/product/palm/par/par.html

JPEG the Ripper: extract JPEG files from unstructured data stream
https://github.com/rusq/jpegrip

# 4.1 LICENSE (this software)
MIT License

Copyright (c) 2024 NNNN

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


# 4.1 LICENSE par (Palm Database Archiver) version 0.5
par was written by David Williams, djw@djw.org

Mozilla Public License Version 2.0
https://www.mozilla.org/media/MPL/2.0/index.f75d2927d3c1.txt


# 4.2 LICENSE JPEG the Ripper

Copyright (c) 2005,2022 github.com/rusq

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors
   may be used to endorse or promote products derived from this software without
   specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
